---
name: awscreate
on:
  workflow_dispatch:
    inputs:
      environment:
        type: choice
        description: Select the environment
        required: true
        options:
          - dev
          - prod
jobs:
  con-integration:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: run aws dev
        env:
          ENVIRONMENT: ${{ inputs.environment }}
        run: |
          if [[ $ENVIRONMENT == 'dev' ]]; then
           steps:
           - uses: hashicorp/setup-terraform@v3
             with:
             terraform_wrapper: false
             with:
              cli_config_credentials_hostname: 'terraform.example.com'
              cli_config_credentials_token: ${{ secrets.TERRAFORM_TOKEN }}
              - name: Terraform init
               id: init
               run: terraform init -check
               run: echo ${{ steps.plan.outputs.stdout }}
          elif [[ $ENVIRONMENT == 'prod' ]]; then
           echo  "prod environment"
          fi
